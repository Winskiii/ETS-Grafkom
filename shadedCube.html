<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Shaded Dodecahedron with Physics</title>
    <style>
        body { text-align: center; }
        #controls { margin-top: 20px; }
        input { margin: 5px; }
    </style>
</head>
<body>

<canvas id="gl-canvas" width="512" height="512"></canvas>

<div id="controls">
    <h3>Kontrol Rotasi</h3>
    <button id="ButtonX">Rotate X</button>
    <button id="ButtonY">Rotate Y</button>
    <button id="ButtonZ">Rotate Z</button>
    <button id="ButtonT">Toggle Rotation</button>

    <h3>Kontrol Fisika</h3>
    <div>
        <label for="forceX">Gaya X:</label>
        <input type="number" id="forceX" value="0" step="0.1">
        <label for="forceY">Gaya Y:</label>
        <input type="number" id="forceY" value="0" step="0.1">
        <label for="forceZ">Gaya Z:</label>
        <input type="number" id="forceZ" value="0" step="0.1">
    </div>
    <div>
        <label for="mass">Massa:</label>
        <input type="number" id="mass" value="1" min="0.1" step="0.1">
    </div>
    <button id="applyForce">Terapkan Gaya</button>

    <h3>Kontrol Pencahayaan</h3>
    <div id="lighting-controls">
        <label>Ambient:</label>
        R: <input type="range" id="ambientR" min="0" max="255" value="128">
        G: <input type="range" id="ambientG" min="0" max="255" value="128">
        B: <input type="range" id="ambientB" min="0" max="255" value="128"><br>

        <label>Diffuse:</label>
        R: <input type="range" id="diffuseR" min="0" max="255" value="255">
        G: <input type="range" id="diffuseG" min="0" max="255" value="255">
        B: <input type="range" id="diffuseB" min="0" max="255" value="255"><br>

        <label>Specular:</label>
        R: <input type="range" id="specularR" min="0" max="255" value="255">
        G: <input type="range" id="specularG" min="0" max="255" value="255">
        B: <input type="range" id="specularB" min="0" max="255" value="255"><br>

        <label>Light Position:</label>
        X: <input type="range" id="lightX" min="-10" max="10" value="1">
        Y: <input type="range" id="lightY" min="-10" max="10" value="1">
        Z: <input type="range" id="lightZ" min="-10" max="10" value="1">
    </div>
</div>

<script id="vertex-shader" type="x-shader/x-vertex">
#version 300 es

in vec4 aPosition;
in vec3 aNormal;
out vec4 vColor;

uniform vec4 uAmbientProduct, uDiffuseProduct, uSpecularProduct;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform vec4 uLightPosition;
uniform float uShininess;

void main()
{
    vec3 pos = -(uModelViewMatrix * aPosition).xyz;

    vec3 light = uLightPosition.xyz;
    vec3 L = normalize(light - pos);

    vec3 E = normalize(-pos);
    vec3 H = normalize(L + E);

    vec4 NN = vec4(aNormal, 0);
    vec3 N = normalize((uModelViewMatrix * NN).xyz);

    vec4 ambient = uAmbientProduct;
    float Kd = max(dot(L, N), 0.0);
    vec4 diffuse = Kd * uDiffuseProduct;

    float Ks = pow(max(dot(N, H), 0.0), uShininess);
    vec4 specular = Ks * uSpecularProduct;

    if (dot(L, N) < 0.0) {
        specular = vec4(0.0, 0.0, 0.0, 1.0);
    }

    gl_Position = uProjectionMatrix * uModelViewMatrix * aPosition;
    vColor = ambient + diffuse + specular;
    vColor.a = 1.0;
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
#version 300 es

precision mediump float;

in vec4 vColor;
out vec4 fColor;

void main()
{
    fColor = vColor;
}
</script>

<!-- Pastikan untuk memiliki initShaders.js dan MVnew.js di direktori yang sama -->
<script src="initShaders.js"></script>
<script src="MVnew.js"></script>
<script src="dodecahedron.js"></script>

</body>
</html>
